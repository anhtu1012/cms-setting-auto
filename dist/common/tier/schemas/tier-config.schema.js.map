{"version":3,"sources":["../../../../src/common/tier/schemas/tier-config.schema.ts"],"sourcesContent":["import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\r\nimport { Document } from 'mongoose';\r\n\r\nexport type TierConfigDocument = TierConfig & Document;\r\n\r\n/**\r\n * Schema cho cấu hình Tier\r\n * Lưu trữ các tier và giới hạn tương ứng trong database\r\n */\r\n@Schema({ timestamps: true })\r\nexport class TierConfig {\r\n  @Prop({ required: true, unique: true, index: true })\r\n  tierCode: string; // free, basic, premium, enterprise\r\n\r\n  @Prop({ required: true })\r\n  tierName: string; // Free, Basic, Premium, Enterprise\r\n\r\n  @Prop()\r\n  description?: string;\r\n\r\n  @Prop({ required: true })\r\n  maxDatabases: number; // -1 = unlimited\r\n\r\n  @Prop({ required: true })\r\n  maxDataPerCollection: number; // -1 = unlimited\r\n\r\n  @Prop({ required: true })\r\n  maxCollectionsPerDatabase: number; // -1 = unlimited\r\n\r\n  @Prop({ required: true })\r\n  maxStorageGB: number; // -1 = unlimited\r\n\r\n  @Prop({ required: true })\r\n  maxApiCallsPerDay: number; // -1 = unlimited\r\n\r\n  @Prop({ default: 0 })\r\n  price: number; // Giá của tier (nếu có)\r\n\r\n  @Prop({ default: 'USD' })\r\n  currency: string;\r\n\r\n  @Prop({ default: true })\r\n  isActive: boolean; // Có thể tắt tier\r\n\r\n  @Prop({ default: 0 })\r\n  displayOrder: number; // Thứ tự hiển thị\r\n\r\n  @Prop({ type: Object })\r\n  metadata?: Record<string, any>; // Thông tin bổ sung tùy chỉnh\r\n}\r\n\r\nexport const TierConfigSchema = SchemaFactory.createForClass(TierConfig);\r\n\r\n// Index để tìm kiếm nhanh\r\nTierConfigSchema.index({ isActive: 1, displayOrder: 1 });\r\n"],"names":["TierConfig","TierConfigSchema","required","unique","index","default","type","Object","timestamps","SchemaFactory","createForClass","isActive","displayOrder"],"mappings":";;;;;;;;;;;QAUaA;eAAAA;;QAyCAC;eAAAA;;;0BAnD+B;;;;;;;;;;AAUrC,IAAA,AAAMD,aAAN,MAAMA;AAuCb;;;QAtCUE,UAAU;QAAMC,QAAQ;QAAMC,OAAO;;;;;;QAGrCF,UAAU;;;;;;;;;;QAMVA,UAAU;;;;;;QAGVA,UAAU;;;;;;QAGVA,UAAU;;;;;;QAGVA,UAAU;;;;;;QAGVA,UAAU;;;;;;QAGVG,SAAS;;;;;;QAGTA,SAAS;;;;;;QAGTA,SAAS;;;;;;QAGTA,SAAS;;;;;;QAGTC,MAAMC;;;;;;QAtCNC,YAAY;;;AA0Cf,MAAMP,mBAAmBQ,uBAAa,CAACC,cAAc,CAACV;AAE7D,0BAA0B;AAC1BC,iBAAiBG,KAAK,CAAC;IAAEO,UAAU;IAAGC,cAAc;AAAE"}
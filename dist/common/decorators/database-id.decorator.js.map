{"version":3,"sources":["../../../src/common/decorators/database-id.decorator.ts"],"sourcesContent":["import { createParamDecorator, ExecutionContext } from '@nestjs/common';\r\n\r\n/**\r\n * Custom decorator để lấy databaseId từ header 'x-database-id'\r\n * Sử dụng: @DatabaseId() databaseId: string\r\n */\r\nexport const DatabaseId = createParamDecorator(\r\n  (data: unknown, ctx: ExecutionContext): string => {\r\n    const request = ctx.switchToHttp().getRequest();\r\n    const databaseId = request.headers['x-database-id'];\r\n\r\n    if (!databaseId) {\r\n      throw new Error('Database ID is required in header x-database-id');\r\n    }\r\n\r\n    return databaseId;\r\n  },\r\n);\r\n"],"names":["DatabaseId","createParamDecorator","data","ctx","request","switchToHttp","getRequest","databaseId","headers","Error"],"mappings":";;;;+BAMaA;;;eAAAA;;;wBAN0C;AAMhD,MAAMA,aAAaC,IAAAA,4BAAoB,EAC5C,CAACC,MAAeC;IACd,MAAMC,UAAUD,IAAIE,YAAY,GAAGC,UAAU;IAC7C,MAAMC,aAAaH,QAAQI,OAAO,CAAC,gBAAgB;IAEnD,IAAI,CAACD,YAAY;QACf,MAAM,IAAIE,MAAM;IAClB;IAEA,OAAOF;AACT"}
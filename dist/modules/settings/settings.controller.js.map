{"version":3,"sources":["../../../src/modules/settings/settings.controller.ts"],"sourcesContent":["import {\r\n  Controller,\r\n  Get,\r\n  Post,\r\n  Body,\r\n  Patch,\r\n  Param,\r\n  Delete,\r\n  Query,\r\n  UseGuards,\r\n} from '@nestjs/common';\r\nimport {\r\n  ApiTags,\r\n  ApiOperation,\r\n  ApiResponse,\r\n  ApiQuery,\r\n  ApiParam,\r\n  ApiBearerAuth,\r\n} from '@nestjs/swagger';\r\nimport { SettingsService } from './settings.service';\r\nimport { CreateSettingDto, UpdateSettingDto } from './dto/setting.dto';\r\nimport { PaginationDto } from '../../common/dto/pagination.dto';\r\nimport { JwtAuthGuard } from '../auth/guards/jwt-auth.guard';\r\n\r\n@ApiTags('settings')\r\n@Controller('settings')\r\n@UseGuards(JwtAuthGuard)\r\n@ApiBearerAuth()\r\nexport class SettingsController {\r\n  constructor(private readonly settingsService: SettingsService) {}\r\n\r\n  @Post()\r\n  @ApiOperation({ summary: 'Create a new setting' })\r\n  @ApiResponse({ status: 201, description: 'Setting created successfully' })\r\n  @ApiResponse({ status: 400, description: 'Invalid input data' })\r\n  create(@Body() createSettingDto: CreateSettingDto) {\r\n    return this.settingsService.create(createSettingDto);\r\n  }\r\n\r\n  @Get()\r\n  @ApiOperation({ summary: 'Get all settings with pagination' })\r\n  @ApiQuery({ name: 'page', required: false, type: Number, example: 1 })\r\n  @ApiQuery({ name: 'limit', required: false, type: Number, example: 10 })\r\n  @ApiQuery({ name: 'search', required: false, type: String })\r\n  @ApiResponse({ status: 200, description: 'Settings retrieved successfully' })\r\n  findAll(@Query() paginationDto: PaginationDto) {\r\n    return this.settingsService.findAll(paginationDto);\r\n  }\r\n\r\n  @Get('category/:category')\r\n  @ApiOperation({ summary: 'Get settings by category' })\r\n  @ApiParam({\r\n    name: 'category',\r\n    enum: ['general', 'appearance', 'security', 'notification', 'integration'],\r\n  })\r\n  @ApiResponse({ status: 200, description: 'Settings found' })\r\n  findByCategory(@Param('category') category: string) {\r\n    return this.settingsService.findByCategory(category);\r\n  }\r\n\r\n  @Get('key/:key')\r\n  @ApiOperation({ summary: 'Get setting by key' })\r\n  @ApiParam({ name: 'key', example: 'site_name' })\r\n  @ApiResponse({ status: 200, description: 'Setting found' })\r\n  @ApiResponse({ status: 404, description: 'Setting not found' })\r\n  findByKey(@Param('key') key: string) {\r\n    return this.settingsService.findByKey(key);\r\n  }\r\n\r\n  @Get(':id')\r\n  @ApiOperation({ summary: 'Get setting by ID' })\r\n  @ApiResponse({ status: 200, description: 'Setting found' })\r\n  @ApiResponse({ status: 404, description: 'Setting not found' })\r\n  findOne(@Param('id') id: string) {\r\n    return this.settingsService.findOne(id);\r\n  }\r\n\r\n  @Patch(':id')\r\n  @ApiOperation({ summary: 'Update setting by ID' })\r\n  @ApiResponse({ status: 200, description: 'Setting updated successfully' })\r\n  @ApiResponse({ status: 404, description: 'Setting not found' })\r\n  update(@Param('id') id: string, @Body() updateSettingDto: UpdateSettingDto) {\r\n    return this.settingsService.update(id, updateSettingDto);\r\n  }\r\n\r\n  @Patch('key/:key')\r\n  @ApiOperation({ summary: 'Update setting value by key' })\r\n  @ApiParam({ name: 'key', example: 'site_name' })\r\n  @ApiResponse({ status: 200, description: 'Setting updated successfully' })\r\n  @ApiResponse({ status: 404, description: 'Setting not found' })\r\n  updateByKey(@Param('key') key: string, @Body() body: { value: any }) {\r\n    return this.settingsService.updateByKey(key, body.value);\r\n  }\r\n\r\n  @Delete(':id')\r\n  remove(@Param('id') id: string) {\r\n    return this.settingsService.remove(id);\r\n  }\r\n}\r\n"],"names":["SettingsController","create","createSettingDto","settingsService","findAll","paginationDto","findByCategory","category","findByKey","key","findOne","id","update","updateSettingDto","updateByKey","body","value","remove","summary","status","description","name","required","type","Number","example","String","enum"],"mappings":";;;;+BA4BaA;;;eAAAA;;;wBAlBN;yBAQA;iCACyB;4BACmB;+BACrB;8BACD;;;;;;;;;;;;;;;AAMtB,IAAA,AAAMA,qBAAN,MAAMA;IAOXC,OAAO,AAAQC,gBAAkC,EAAE;QACjD,OAAO,IAAI,CAACC,eAAe,CAACF,MAAM,CAACC;IACrC;IAQAE,QAAQ,AAASC,aAA4B,EAAE;QAC7C,OAAO,IAAI,CAACF,eAAe,CAACC,OAAO,CAACC;IACtC;IASAC,eAAe,AAAmBC,QAAgB,EAAE;QAClD,OAAO,IAAI,CAACJ,eAAe,CAACG,cAAc,CAACC;IAC7C;IAOAC,UAAU,AAAcC,GAAW,EAAE;QACnC,OAAO,IAAI,CAACN,eAAe,CAACK,SAAS,CAACC;IACxC;IAMAC,QAAQ,AAAaC,EAAU,EAAE;QAC/B,OAAO,IAAI,CAACR,eAAe,CAACO,OAAO,CAACC;IACtC;IAMAC,OAAO,AAAaD,EAAU,EAAE,AAAQE,gBAAkC,EAAE;QAC1E,OAAO,IAAI,CAACV,eAAe,CAACS,MAAM,CAACD,IAAIE;IACzC;IAOAC,YAAY,AAAcL,GAAW,EAAE,AAAQM,IAAoB,EAAE;QACnE,OAAO,IAAI,CAACZ,eAAe,CAACW,WAAW,CAACL,KAAKM,KAAKC,KAAK;IACzD;IAGAC,OAAO,AAAaN,EAAU,EAAE;QAC9B,OAAO,IAAI,CAACR,eAAe,CAACc,MAAM,CAACN;IACrC;IApEA,YAAY,AAAiBR,eAAgC,CAAE;aAAlCA,kBAAAA;IAAmC;AAqElE;;;;QAlEkBe,SAAS;;;QACVC,QAAQ;QAAKC,aAAa;;;QAC1BD,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAMzBF,SAAS;;;QACbG,MAAM;QAAQC,UAAU;QAAOC,MAAMC;QAAQC,SAAS;;;QACtDJ,MAAM;QAASC,UAAU;QAAOC,MAAMC;QAAQC,SAAS;;;QACvDJ,MAAM;QAAUC,UAAU;QAAOC,MAAMG;;;QACpCP,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAMzBF,SAAS;;;QAEvBG,MAAM;QACNM,MAAM;YAAC;YAAW;YAAc;YAAY;YAAgB;SAAc;;;QAE7DR,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAMzBF,SAAS;;;QACbG,MAAM;QAAOI,SAAS;;;QACnBN,QAAQ;QAAKC,aAAa;;;QAC1BD,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAMzBF,SAAS;;;QACVC,QAAQ;QAAKC,aAAa;;;QAC1BD,QAAQ;QAAKC,aAAa;;;;;;;;;;;;QAMzBF,SAAS;;;QACVC,QAAQ;QAAKC,aAAa;;;QAC1BD,QAAQ;QAAKC,aAAa;;;;;;;;;;;;;;QAMzBF,SAAS;;;QACbG,MAAM;QAAOI,SAAS;;;QACnBN,QAAQ;QAAKC,aAAa;;;QAC1BD,QAAQ;QAAKC,aAAa"}
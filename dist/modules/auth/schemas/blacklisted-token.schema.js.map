{"version":3,"sources":["../../../../src/modules/auth/schemas/blacklisted-token.schema.ts"],"sourcesContent":["import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\r\nimport { Document } from 'mongoose';\r\n\r\nexport type BlacklistedTokenDocument = BlacklistedToken & Document;\r\n\r\n@Schema()\r\nexport class BlacklistedToken {\r\n  @Prop({ required: true, unique: true })\r\n  token: string;\r\n\r\n  @Prop({ required: true })\r\n  expiresAt: Date;\r\n}\r\n\r\nexport const BlacklistedTokenSchema =\r\n  SchemaFactory.createForClass(BlacklistedToken);\r\n\r\n// TTL index: automatically remove expired tokens\r\nBlacklistedTokenSchema.index({ expiresAt: 1 }, { expireAfterSeconds: 0 });\r\n"],"names":["BlacklistedToken","BlacklistedTokenSchema","required","unique","SchemaFactory","createForClass","index","expiresAt","expireAfterSeconds"],"mappings":";;;;;;;;;;;QAMaA;eAAAA;;QAQAC;eAAAA;;;0BAd+B;;;;;;;;;;AAMrC,IAAA,AAAMD,mBAAN,MAAMA;AAMb;;;QALUE,UAAU;QAAMC,QAAQ;;;;;;QAGxBD,UAAU;;;;;;;AAIb,MAAMD,yBACXG,uBAAa,CAACC,cAAc,CAACL;AAE/B,iDAAiD;AACjDC,uBAAuBK,KAAK,CAAC;IAAEC,WAAW;AAAE,GAAG;IAAEC,oBAAoB;AAAE"}
{"version":3,"sources":["../../../../src/modules/users/schemas/user.schema.ts"],"sourcesContent":["import { Prop, Schema, SchemaFactory } from '@nestjs/mongoose';\r\nimport { Document } from 'mongoose';\r\n\r\nexport type UserDocument = User & Document;\r\n\r\n@Schema({ timestamps: true })\r\nexport class User {\r\n  @Prop({ required: true, unique: true })\r\n  email: string;\r\n\r\n  @Prop({ required: true, unique: true })\r\n  userName: string;\r\n\r\n  @Prop({ required: true })\r\n  password: string;\r\n\r\n  @Prop({ required: true })\r\n  firstName: string;\r\n\r\n  @Prop({ required: true })\r\n  lastName: string;\r\n\r\n  @Prop({ default: 'user', enum: ['admin', 'user', 'editor'] })\r\n  role: string;\r\n\r\n  @Prop({ default: true })\r\n  isActive: boolean;\r\n\r\n  @Prop()\r\n  avatar?: string;\r\n\r\n  @Prop()\r\n  lastLogin?: Date;\r\n\r\n  // Wallet and Points Information\r\n  @Prop({ default: 0 })\r\n  points: number;\r\n\r\n  @Prop({ default: 0 })\r\n  walletBalance: number;\r\n\r\n  @Prop({\r\n    type: [{ date: Date, amount: Number, type: String, description: String }],\r\n    default: [],\r\n  })\r\n  walletTransactions: Array<{\r\n    date: Date;\r\n    amount: number;\r\n    type: string; // 'credit' or 'debit'\r\n    description: string;\r\n  }>;\r\n\r\n  @Prop({ type: [{ date: Date, points: Number, reason: String }], default: [] })\r\n  pointsHistory: Array<{\r\n    date: Date;\r\n    points: number;\r\n    reason: string;\r\n  }>;\r\n}\r\n\r\nexport const UserSchema = SchemaFactory.createForClass(User);\r\n"],"names":["User","UserSchema","required","unique","default","enum","type","date","Date","amount","Number","String","description","points","reason","timestamps","SchemaFactory","createForClass"],"mappings":";;;;;;;;;;;QAMaA;eAAAA;;QAsDAC;eAAAA;;;0BA5D+B;;;;;;;;;;AAMrC,IAAA,AAAMD,OAAN,MAAMA;AAoDb;;;QAnDUE,UAAU;QAAMC,QAAQ;;;;;;QAGxBD,UAAU;QAAMC,QAAQ;;;;;;QAGxBD,UAAU;;;;;;QAGVA,UAAU;;;;;;QAGVA,UAAU;;;;;;QAGVE,SAAS;QAAQC,MAAM;YAAC;YAAS;YAAQ;SAAS;;;;;;QAGlDD,SAAS;;;;;;;;;;;;;;QAUTA,SAAS;;;;;;QAGTA,SAAS;;;;;;QAIfE,MAAM;YAAC;gBAAEC,MAAMC;gBAAMC,QAAQC;gBAAQJ,MAAMK;gBAAQC,aAAaD;YAAO;SAAE;QACzEP,SAAS,EAAE;;;;;;QASLE,MAAM;YAAC;gBAAEC,MAAMC;gBAAMK,QAAQH;gBAAQI,QAAQH;YAAO;SAAE;QAAEP,SAAS,EAAE;;;;;;QA/CnEW,YAAY;;;AAuDf,MAAMd,aAAae,uBAAa,CAACC,cAAc,CAACjB"}
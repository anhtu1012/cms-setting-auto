{"version":3,"sources":["../../../../src/modules/dynamic-cms/dto/database.dto.ts"],"sourcesContent":["import {\r\n  IsString,\r\n  IsOptional,\r\n  IsBoolean,\r\n  IsArray,\r\n  ValidateNested,\r\n  IsNotEmpty,\r\n  MinLength,\r\n  Matches,\r\n} from 'class-validator';\r\nimport { Type } from 'class-transformer';\r\nimport { ApiProperty, ApiPropertyOptional, PartialType } from '@nestjs/swagger';\r\n\r\nexport class DatabaseSettingsDto {\r\n  @ApiPropertyOptional({\r\n    description: 'Default language',\r\n    example: 'en',\r\n  })\r\n  @IsOptional()\r\n  @IsString()\r\n  defaultLanguage?: string;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Timezone',\r\n    example: 'Asia/Ho_Chi_Minh',\r\n  })\r\n  @IsOptional()\r\n  @IsString()\r\n  timezone?: string;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Date format',\r\n    example: 'DD/MM/YYYY',\r\n  })\r\n  @IsOptional()\r\n  @IsString()\r\n  dateFormat?: string;\r\n}\r\n\r\nexport class CreateDatabaseDto {\r\n  @ApiProperty({\r\n    description: 'Database name (slug, lowercase, no spaces)',\r\n    example: 'my-ecommerce-db',\r\n  })\r\n  @IsString()\r\n  @IsNotEmpty()\r\n  @MinLength(3)\r\n  @Matches(/^[a-z0-9-]+$/, {\r\n    message: 'Name must be lowercase, alphanumeric with hyphens only',\r\n  })\r\n  name: string;\r\n\r\n  @ApiProperty({\r\n    description: 'Display name for the database',\r\n    example: 'My E-commerce Database',\r\n  })\r\n  @IsString()\r\n  @IsNotEmpty()\r\n  displayName: string;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Database description',\r\n    example: 'Main database for e-commerce platform',\r\n  })\r\n  @IsOptional()\r\n  @IsString()\r\n  description?: string;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Icon for the database',\r\n    example: 'ðŸ›’',\r\n  })\r\n  @IsOptional()\r\n  @IsString()\r\n  icon?: string;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Database settings',\r\n    type: DatabaseSettingsDto,\r\n  })\r\n  @IsOptional()\r\n  @ValidateNested()\r\n  @Type(() => DatabaseSettingsDto)\r\n  settings?: DatabaseSettingsDto;\r\n\r\n  @ApiPropertyOptional({\r\n    description: 'Tags for categorization',\r\n    example: ['production', 'e-commerce'],\r\n    type: [String],\r\n  })\r\n  @IsOptional()\r\n  @IsArray()\r\n  @IsString({ each: true })\r\n  tags?: string[];\r\n}\r\n\r\nexport class UpdateDatabaseDto extends PartialType(CreateDatabaseDto) {\r\n  @ApiPropertyOptional({\r\n    description: 'Active status of the database',\r\n    example: true,\r\n  })\r\n  @IsOptional()\r\n  @IsBoolean()\r\n  isActive?: boolean;\r\n}\r\n\r\nexport class DatabaseResponseDto {\r\n  @ApiProperty({ example: '507f1f77bcf86cd799439011' })\r\n  id: string;\r\n\r\n  @ApiProperty({ example: 'my-ecommerce-db' })\r\n  name: string;\r\n\r\n  @ApiProperty({ example: 'My E-commerce Database' })\r\n  displayName: string;\r\n\r\n  @ApiProperty({ example: 'Main database for e-commerce platform' })\r\n  description?: string;\r\n\r\n  @ApiProperty({ example: '507f1f77bcf86cd799439011' })\r\n  userId: string;\r\n\r\n  @ApiProperty({ example: true })\r\n  isActive: boolean;\r\n\r\n  @ApiProperty({ example: 'ðŸ›’' })\r\n  icon?: string;\r\n\r\n  @ApiProperty({\r\n    example: { defaultLanguage: 'en', timezone: 'Asia/Ho_Chi_Minh' },\r\n  })\r\n  settings?: DatabaseSettingsDto;\r\n\r\n  @ApiProperty({ example: ['production', 'e-commerce'] })\r\n  tags?: string[];\r\n\r\n  @ApiProperty({ example: 5 })\r\n  collectionsCount: number;\r\n\r\n  @ApiProperty({ example: 1250 })\r\n  dataCount: number;\r\n\r\n  @ApiProperty({ example: '2023-12-01T10:30:00Z' })\r\n  createdAt: Date;\r\n\r\n  @ApiProperty({ example: '2023-12-01T10:30:00Z' })\r\n  updatedAt: Date;\r\n}\r\n\r\nexport class DatabaseListResponseDto {\r\n  @ApiProperty({ type: [DatabaseResponseDto] })\r\n  data: DatabaseResponseDto[];\r\n\r\n  @ApiProperty({ example: 10 })\r\n  total: number;\r\n\r\n  @ApiProperty({ example: 1 })\r\n  page: number;\r\n\r\n  @ApiProperty({ example: 10 })\r\n  limit: number;\r\n\r\n  @ApiProperty({ example: 1 })\r\n  totalPages: number;\r\n}\r\n"],"names":["CreateDatabaseDto","DatabaseListResponseDto","DatabaseResponseDto","DatabaseSettingsDto","UpdateDatabaseDto","description","example","message","type","String","each","PartialType","defaultLanguage","timezone"],"mappings":";;;;;;;;;;;QAuCaA;eAAAA;;QA8GAC;eAAAA;;QA3CAC;eAAAA;;QA7FAC;eAAAA;;QAmFAC;eAAAA;;;gCAvFN;kCACc;yBACyC;;;;;;;;;;AAEvD,IAAA,AAAMD,sBAAN,MAAMA;AAwBb;;;QAtBIE,aAAa;QACbC,SAAS;;;;;;;;QAOTD,aAAa;QACbC,SAAS;;;;;;;;QAOTD,aAAa;QACbC,SAAS;;;;;;AAON,IAAA,AAAMN,oBAAN,MAAMA;AAuDb;;;QArDIK,aAAa;QACbC,SAAS;;;;;;QAMTC,SAAS;;;;;;QAKTF,aAAa;QACbC,SAAS;;;;;;;;QAOTD,aAAa;QACbC,SAAS;;;;;;;;QAOTD,aAAa;QACbC,SAAS;;;;;;;;QAOTD,aAAa;QACbG,MAAML;;;;oCAIIA;;;;;QAIVE,aAAa;QACbC,SAAS;YAAC;YAAc;SAAa;QACrCE,MAAM;YAACC;SAAO;;;;;QAIJC,MAAM;;;;AAIb,IAAA,AAAMN,oBAAN,MAAMA,0BAA0BO,IAAAA,oBAAW,EAACX;AAQnD;;;QANIK,aAAa;QACbC,SAAS;;;;;;AAON,IAAA,AAAMJ,sBAAN,MAAMA;AAyCb;;;QAxCiBI,SAAS;;;;;;QAGTA,SAAS;;;;;;QAGTA,SAAS;;;;;;QAGTA,SAAS;;;;;;QAGTA,SAAS;;;;;;QAGTA,SAAS;;;;;;QAGTA,SAAS;;;;;;QAItBA,SAAS;YAAEM,iBAAiB;YAAMC,UAAU;QAAmB;;;;;;QAIlDP,SAAS;YAAC;YAAc;SAAa;;;;;;QAGrCA,SAAS;;;;;;QAGTA,SAAS;;;;;;QAGTA,SAAS;;;;;;QAGTA,SAAS;;;;AAInB,IAAA,AAAML,0BAAN,MAAMA;AAeb;;;QAdiBO,MAAM;YAACN;SAAoB;;;;;;QAG3BI,SAAS;;;;;;QAGTA,SAAS;;;;;;QAGTA,SAAS;;;;;;QAGTA,SAAS"}
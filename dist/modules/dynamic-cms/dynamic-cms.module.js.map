{"version":3,"sources":["../../../src/modules/dynamic-cms/dynamic-cms.module.ts"],"sourcesContent":["import { Module } from '@nestjs/common';\r\nimport { MongooseModule } from '@nestjs/mongoose';\r\nimport {\r\n  CollectionSchemaModel,\r\n  CollectionSchemaSchema,\r\n} from './schemas/collection-schema.schema';\r\nimport { DynamicData, DynamicDataSchema } from './schemas/dynamic-data.schema';\r\nimport { Database, DatabaseSchema } from './schemas/database.schema';\r\nimport { CollectionSchemaService } from './controller/collection-schema/collection-schema.service';\r\nimport { CollectionSchemaController } from './controller/collection-schema/collection-schema.controller';\r\nimport { DynamicDataService } from './controller/dynamic-data/dynamic-data.service';\r\nimport { DynamicDataController } from './controller/dynamic-data/dynamic-data.controller';\r\nimport { DatabaseService } from './controller/database/database.service';\r\nimport { DatabaseController } from './controller/database/database.controller';\r\nimport { DatabaseOwnershipGuard } from '../../common/guards/database-ownership.guard';\r\n\r\n@Module({\r\n  imports: [\r\n    MongooseModule.forFeature([\r\n      { name: Database.name, schema: DatabaseSchema },\r\n      { name: CollectionSchemaModel.name, schema: CollectionSchemaSchema },\r\n      { name: DynamicData.name, schema: DynamicDataSchema },\r\n    ]),\r\n  ],\r\n  controllers: [\r\n    DatabaseController,\r\n    CollectionSchemaController,\r\n    DynamicDataController,\r\n  ],\r\n  providers: [\r\n    DatabaseService,\r\n    CollectionSchemaService,\r\n    DynamicDataService,\r\n    DatabaseOwnershipGuard,\r\n  ],\r\n  exports: [\r\n    DatabaseService,\r\n    CollectionSchemaService,\r\n    DynamicDataService,\r\n    MongooseModule, // Export để guards có thể inject models\r\n  ],\r\n})\r\nexport class DynamicCmsModule {}\r\n"],"names":["DynamicCmsModule","imports","MongooseModule","forFeature","name","Database","schema","DatabaseSchema","CollectionSchemaModel","CollectionSchemaSchema","DynamicData","DynamicDataSchema","controllers","DatabaseController","CollectionSchemaController","DynamicDataController","providers","DatabaseService","CollectionSchemaService","DynamicDataService","DatabaseOwnershipGuard","exports"],"mappings":";;;;+BA0CaA;;;eAAAA;;;wBA1CU;0BACQ;wCAIxB;mCACwC;gCACN;yCACD;4CACG;oCACR;uCACG;iCACN;oCACG;wCACI;;;;;;;AA4BhC,IAAA,AAAMA,mBAAN,MAAMA;AAAkB;;;QAzB7BC,SAAS;YACPC,wBAAc,CAACC,UAAU,CAAC;gBACxB;oBAAEC,MAAMC,wBAAQ,CAACD,IAAI;oBAAEE,QAAQC,8BAAc;gBAAC;gBAC9C;oBAAEH,MAAMI,6CAAqB,CAACJ,IAAI;oBAAEE,QAAQG,8CAAsB;gBAAC;gBACnE;oBAAEL,MAAMM,8BAAW,CAACN,IAAI;oBAAEE,QAAQK,oCAAiB;gBAAC;aACrD;SACF;QACDC,aAAa;YACXC,sCAAkB;YAClBC,sDAA0B;YAC1BC,4CAAqB;SACtB;QACDC,WAAW;YACTC,gCAAe;YACfC,gDAAuB;YACvBC,sCAAkB;YAClBC,8CAAsB;SACvB;QACDC,SAAS;YACPJ,gCAAe;YACfC,gDAAuB;YACvBC,sCAAkB;YAClBjB,wBAAc;SACf"}